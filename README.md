<div align="center">
<p><img style="width:200px; height:200px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAABZNSURBVHhe7Z17tB1Vfcd/M+ecexPC0wiKQomGJKQpVbQFwiOBiDwSSiBgRaB2tZVWW6xdorW2uloFUwtYV8UHy5YW16IFUVuXSMkDCCSBAvKICcklNyEPILkBEpJwX7nnzKN7z/z2+X333NncG1f/KGf2566d8z0nc2b2zOzz++3Hb+8JNm54KiVFEg/pF0X2Fii+f3PSNN8+UH+l8Mfmf83e298LHN9jzH7TQr5C83lxxw6K3zeEoz7m/aZJ9tp+H2YvTuT8y48T8MfF7eLEHCfHnE8Y1rJXk+9R+eT3ki+T78KG5sBmP9m/nsoS9Kz/n6woBNTMPjAlycWoEjUK8/+mZI+X/HtBMFaZzLcbVbDHsBxFXBZn7PN7c2R35hdY+EXz7gNznQrZHn38fANzXcbKX2B+4e3tCteT/799/mUFwD6IaPzYvnC4feGMxmBcN65ttrSUEzrIe061ep2Vdnn2jdE4Ly4c395GMjCe74p/KhCMzksG+hncjXW9y/PjJj+WyW+oD4FlxHking5BFxIpKMFGtgApW4A0+VUKAJbggslhXL90/Nz1iw6gYpTg9nAiMz73WVY2G2/5R1ZEja4uVmABoMC7Cn8Kx09D0UEi55riLx1w/54k76FjIzxXxFWB1f9Thr37/I1xTeV3y1MZfAGoOEHv+kczm5CkUfZB5gIcpng8OL/qMGehy+47qHF7WDPj/C+zIpq//VlWNvdNnsWKaNMT/8BKwRUstNxJocYuQB4xu/DdYm3fgJ/bfSO4z7GPm4JOKGalPgeXPb76W76fdiUw+9dTWVQB0CUBSg4WUk8Hoq2NTvl99xag4mQu+CDdsOctjb7ZOnkL4FEEvRtWZRWAhDs7dK0V++OxZnmw3bZICJ0mWOvFYzk7i7Ccwib1hrQIpp4lLQKkd+WNrFQeYDcmlyee/Zes1DVw1MYD+OLWh7/JSo/cjbBS+0ukZo7gGaFuQlf06VfcxMpmYP8AK6KombfSNC+sltZMK+YufI2jE88+K86FbwV4NL4AVJxSF2AbK2E8/fkuxFir7cGkYgdH2y4XCELYBqQJktC4h5Fhp2z2pp7558p/HJnpaMePstecchfwm9umsyLacMGprIi2Lb+ZlTLpzX5WNgG4hihtsCKada7KA9PcuYyVTUITWSlXtepVVkS7rryaFdHaB77KShGXu6EYL7HpmHK7gLFvpuetjL7xejhJRyRYtStPFQk2rl+d2YLU9C9nBSQ3D6MAU49Wvx2FogjA2MepmKQ6lLXp877ISgPboJ8A2tEzilYk2+PnYUPMJbJ19T+xEjf3ntnXUdw4ItO3v7Qne9XctXsrK5udsQwj95w/hxVR3/KvsyIaHHidlU2QSO09hv2cNO9TrIj273yYlc0JTx9gRTSxKbX93Vd8hJV2AYtZ6fMrdwEBtG7MyLa5xd4CVBxVAHSRUEmXCPlBeToWbbrFfHsLUHGCTVwHMP5a9/xZzTq0Cuj3oejYY+GwEfD+hV9jRTS86b9YaRwHsJDPH0jF10s/HNH3H8N3wv2Xn8uKaMvj381ep5z2KYq7D8v05AfFz4b1chPYGsnrC5r+35FttiyXcLMoHmRlE3KchSYWqeoAEsI2+d6lrGzSSVIpGrz/aVaq2XiT1KF6VkivYJxAr6CDJLGvsbcAFccXgIoztgtwYcW786vG8VV0ASuev4+VNpEsFK6QphbE02+JpTftp73DrJRZbHWzslmycB4rom2rv8FKmWz2YdOhORa7IntbcszepRBlDBHCzqli4B1xWkCrJvk96dzPsXJTh/33LJUBrnZ7ThEnLVY2eFpx4RRDHc7sCmn2dCKm1afuuUreBVQc5QLywaCYa/JVcQHDw2Y29K9OV03ycrAuwD25Y2ysywRvxucCTIbyzHgLUHFUAdBlwJeDqqCHzfOhc20BAu0C8okhsZkYUnQBaG/gY+sNbuMoS7MuuIUV0eKt97KyGSkfy6B+6auhfWL1afce+UITQqaQZfPPZ0W0aaWEXpmKby2ckL1qEhi4QXCYPUSbXpPzDqzOMME11zKtyUxlVzjZeEitwabyPKC3MW7I3LJQjxRlo0V5gbDvsafj0Dc+u/mcvO2vOMoFrMyMQWzshHpx1cZDHABAU4Hbg/tIwVzWocY8Y87nWRFNWij92tHOLaxs0sHdrFQ+MR4gkuPGL61iZbP5Ian5J5CfgPOMNXN36wc34lcFbj+elhOOmehonDYQ2oagu8FLHMOgAk4tjxyuxMRBaFIeCzCtEG8BKo4vABWn1AW4cE7ltrqSRWMFOIBa76w5f8WKqPWKRMSuIKmRI0OOqul3VsEQcEM6gpYuOoMV0ZaVMpHDqpEbF4BuwXGcAEx0DeLWTjjzC6z0vqGpAmDjAPdutw5QC5bHRY1+C+hdJe4OJ8Gg24yiPENtF6BfMmmE4x57OgMd+5kl9QPQybuAihNq621ZcDBZns5DzwTA2QDBpudK6gAON4B1AGsmDjo6mMUTQ7PEqgOcLb6z9er9rIgeSSexshmAY6HJuvVxFgWwDrAV6gAyEKLyUwiNejPQ5b533t+wUp+//N+sNOW9iPYvqryZ9mpSXvdZBWHkzx6QTKx9ErpDgaWfvJQVUc99X2Fl0+Lw8oTrQKppr0qETurmjqct63mLo39BWVL3WiX8QXkqSJgom69TbvtV+j80AnpFL5M8/z/QzU+dTN3PW4CK4wtAxRm7ABhbYbUVtaeAP1ORVMn5F9bbqe1uspTVSLLUUO6nLCG6Tm2Snm5vko3s3wRA5EnltZ3UOWT7xm3zz3QaiUfaSa9PYFIWHGCSlRvdChgrybFi+BsJ6qUp1JU0Ti/sonZKJ3a1ExIc8fZ2Gi+j+gFcI4GezkAKfl5wvQuoOMGmDfnEELNObhYSpv4MKa7oBeXF7hRikVFepsIuGayZPvsvWOnBIOkIWkWHsLJ5A/YpuSH61i9YKBrQx7J00WxWRNtX38pKG16xbgmPqVuDNXAiByIZaOqui495z9wvsSK6aPmDrIj6B/P9FQmbcswahA6PtCTDraj8uw3IT1dNvhuDPhJiA5Z/XMLf1q+Q5WuQZtMetCq/W57KEOpRSZ10d2fW5akrOp4ORv/mddL3Wdn69hIxaOrFaimj6XABYE517b9NOKpKnjHjHJkOncbSMRS/IpNEVqWHsrLpB1MIWaPFj8pEiCMg5GzpIlnGpQ7ubMujEB7Gob54fji7Y7glprIb5vHhilsz58qcvklXy5xBJIVJ7EEq+Y33vsZKMbifRQH4PGzJdwfX/owV0YRuGWNZu0zOD4lgMUmJHM6vZFhTF0inNr4VUBFyCwA/XU8VCTbzxJAo4FqptgBoBMAfYJ8+RqOmMFzbddjhrGzee8b1rFStd7uYMKzXPwELIyK7wUJBZd9ixSuYaeHW94s72PKotAhCfkgWrqyVQJjWSCQmtxvcC9UkL9Pm/DUrdU47f86qiJzfvZSvSqIBx+MEg3z/5QmZy7h/w3ZWRL+88VpWSi8tX3M4gpktGCGs8Rag4oS68qdT7hE8nY421mCwvQWoOsqVKwugE48TW/7f04HoGyw32VuAipP35/hffWUwlt5Y/qD3uUey24+NAxwUsSZ4BtjLB2YEesqmnfZnrGyivbggsjSxHkqlaTRsjyqVMguOewQsRv1EID1iLhYcO5cV0dZV+ULPIfRixjxrRnMgkt6ziTDrCJeCOfFsiRBu7ZQeTRvpUVxO+TMKNLiko+v3NwDNwDvXSt72Pb2RVaEZuEQWr0YiaN6aNRBMK16djq//Vwnd95f3/+X33dcBKk6wmeMBYjb12j9gj59ZOkbTAHMJ1pJOOk/GyJOdy1kVEbN/L5VPAHGVRjiUpdF0uuKO0TF8A7zQimvyHsJtj8jEEfP8ZM0BGDef2JCJGxEcdcZcWdugtbN8vd+XwU2tDaSnE/OOGmnCyd72jDiNoTUvsBqnC4CgByPNWgXeAlQcXwAqTqkLcLUCatCHeOoFf8eKaG8ihjZ9GZeCF64/cBkrokFwB8Mju1gRdYfloVFNGMA487B3syJ6Y2gvK6I+HLABWtHJrIguPewOVkTnQYvAsO0xGU8fGpbl3w/pEhfQhArzDHjoZNRX7gKmvngBK+02xa1MgDiBCTWo7gNJXQaAumFQ7uj161gRrf4jCQNbuwQejw+gCzADXm0XYOaJm/ahp8MxYeAcAuZdQMUp7QiCIW/lGsQqdENk79TZEuIVvybLvDxO5S7gh0NinvqHxOQNYxiWozjeM3k1K12rRzchEyNuODCflc0/bzuOFdG10+5iRbR1bf6gxx/MvyR71Wx/TJ4wNjgs4VgTurH2LhfnxLMkJCzqW8LK5qrdp7PSTx+Ta9mE8DB0uciBIYmS3nzXQlZEc+ZJHMKKj8oTUdYtK28F4LR4ExJm5n94C1BxVAHQpS+fCVBeDj0dRbYqrFgE5QLyFUJUFTD7QP+LT6eIIPTrbcdIDfyYaZ9gpczZ3ntYKTO7V1bnQAbAcg9F0m2zGzqF+qGjBNnwTllbOAYXUCN5mNPi9LdY2Sy++yJWRI1dU1gRLTonf/7uHQs+mr1q+p76Fiuiffv6WBFNPETC3Ew0sWbaHFjpZEf5WMDFu97HSpn0ulz4CIxvvVHegtmzTq73pocWsFItmAXy3OGll0nI2/pl8hBJJIZ7mJgnw/AKKe1cFCNFPJ2OLox+bmDl8QWg4vgCUHFCs4aP7m0thIx7OhK7vectQMVpDwZFZixcNQ8a0BXYgl6kmedKD1Tyioz7X777bFaqiZeWP8NXN+AMr7WkGbgjOpaVHiQqnxz61XfvYEW0H8bsWzB15vAue7kUw5dvk2ftB4NHsVLNoP58+2uu/Hj2qrljrgwQbVhxAyuiQydNZqWuUyznNw0Gg5o7cNFIYfauU1npJq8MmsVDb2OljjWl/BE6TQi6OP7vv8+K6JxLZH2FBxZKM3CdoxkYgWmXwaD81VuAihPqjgGd8oWT1C8f54Z7Oo5A3V+dDEHv+nwwyKyHq4eE9apUBrOmrOakCyV8amS7jK3PePFjrNQO4Xm6yJbjf8qK6IPP/T4rou2TZFBkCMd5gKgphurTs2Sd3L0kPWj/dtevs7Lp6jueldLH7GRFNPz8u7LXRb8refnxxVewIupZIs80mDBBXFMX9NpNOVMefTPyIk54FX7jJVmupq8m+2mNSA9ocOBEVja15yTv6RqJnj7nI/K84/svOYuVyvMyRzwAugDuCTQf6UXIVJ1QJVUC8gcRyM33dB561Cf708ZeJV8HqDjtZwebwSBt8hswGnTiGRL5+os9q1gRvUDyhK8/2fxpVkSNpDw+t2/6D1npUidxBYc/J4McjXp5tPAImLAIWhBpS8bL02fLWx+ta29nRXRD64OsiP72pjyaduYpEg/wvsnvYEV09wIJ5dr65LdZaRcgrY1fwzUPXiqvyZ+wXgbHBmDthDSBQbABcbMWL4rLmLRCTP2HrrqOFdF9l0gLrGf52CFhKV/L9nLx2b+eytIuALpEZKXCURg9nYGOaMqjmvI06vHxugA0GuACIOzpydfkER3nbZAQLAxpen2mxAYgR/9SOlziVCJug0RiAF7/wJ2s3Lx9jXTsDAwdw0rpM8qXR6lDS+ErI+ICFn8v70ypvy5u5PLLfo8V0Z0fPodVwQXAopHHYVjcjvIlYo5+Vjpqdp2ykpWOZZBIYwy7Qyb8/A9YKf2wxDvMv1LmX/7nQnEBvQ+VLw4ZwfOFx+wIMnUBT2diosANvg5QcWReQKFkeDoVfY/1vdbPDoy9Bag6WacvJk+nk1sAg7cAFSfoXZcPBpnJodoONOAhj9PmSE/gytekGbNokzRR4to+VkQjzfIeuRjsSx168/pPlh5C1WDhV5sB6mFF9PWRa1gRffPHEpp+3dWyCiiSwj7rqfTi3fLF/LwmHiWh4icf905WRI99RgZcsBnYgOVijjtVeuQSx8ygyes/zIpouCFxBV3RSaz09ZOVP5F4szRzw0dk+4uv/GNWRD+ZD83Ah29hZRPxAJAmNs9J4NE/bwEqji8AFafUBdTBBeASMTPhmb9L90iv4BUvyJh6M3qDlU3ckopHd7/M6Pna7KdYEe13PIP/QATr6dfFnN18842slAl2uI8rvyC9Y/9xvfTcTT52evb6oUukR/OeM05jRdSzUswpxgNQIvELU86SmIF0V/nSOO/YIoNNw+EAK22KWSiay6TXEQnWy9O/8sV8c87/hAy+Lb9IXMDGFY7JoRA6F/NgkLgA/ZrpvHbo+wKqgYkA8y6g4sjj43nGqB4TwpAwZRNYKesL6wPMPEsiUx/cJe5gwdMSOYxE/WLG00EZUGm+Imbutj8sr0k/RtLKuONLUvMOIG4hhadnIfUB2eaod0mI1QVn5qbznktliZXNq2V9gKFI3NEh3bBQpPGUihRWTZs29zOs1Dm9LK0lPexjOP4ZGRDrW3c0K7VFzzRWNumIXKePXS2DYHdfKC5j46PfY6XNu7gnxMQAaFqQf423ABVHP09VOwRVTPKk/zydjDYBkkrjAWqhmH2orFJXXTpSIuhUmXH2n7Iiuq/vCVY20Pdj1dclxpdoLb4BNu6SzqXhpphFakruDnEUXFzuZtszssDims/nLZftT96WvWrw8TFDw1JjnzhRYgbso8hJJXClpp4u7uCpnRJGt7cm28v6Zuq897AosHef3Idvz5Z1BrY8+QNW6nbFYvYTeMwNYh4KqmnB08c0ygVoLwCewDuFDsfc7zz5211xDqoANKNmOyXxQDu9lRkY3N9O2uybVBW8Bag4WXVPqhoK642nc8nvfNDLD47EpdJDnDwIRmLez8Q0HjlFhie7QqkBP/3Jq1gVwIdSY9XceoZZeU2eoMMlyJovOWn7ObgKV8HFpy/CpJXT/zWfy9eeFq8IsJcHMI+a19TgmD86VcY9XJ0wU2eXP0FFXXAWKusQtWsB1+a3b5cFOFN8DP2I7KcLFp9E/v2U11mpwzbzBTLNBYOrn+PXC+5sTLeP/inpNKoAeKpFOyaQCwS/8XQu9k0ONnEdwKzAqV1ALbcRGSDp0ENlXPzCx2UQJ+iW3jkceEBCGAAPwLfhOLdybixs0DenYLTgm1Y+kQAefxNAHSPh3s4RCJdKk3KDmLTERy/5ADz3P5DPHadNLaiCfHaNXL+BbomJ6Hes0BnhWguwTRTDeUSSh8ZgeSzGT7CuEuePnjHD/iHpC6SSfqsTTvPydD7lRc9TGYJNPY9ntiBK8gGX7GESYIprYGhDsA64ADG6DPnUBq17DcbxcfTR9V1coBkJQ3E9LsOF6/vjeRlrX4cBGtfxA7DveBxjTjU44OICm2/1QI7rPrKAW6DOH/2ag/cEwWV+zDUQF+CpNGEaTCCdDBwr6OlwOPyDgt7n12S2II4h8hYw5aFtRRxmxjC6Emlvj2Y4x95+VEBKcXcu+LgB79+YvfHvj/NVyN6o3JrzG7UdH8/li0ZhH694nFHw+ZjtRh2nvZ9cjJWPxGy3vicvALU07+bFwAZNcdnAwts24z1t9Eca8z3zKdYzyjAnVixIxRMeXdBsisc1FI9u/t+1fZGDzUcR13m58mXQ635oTFXENHld9QIT8+PrAJWG6H8BcOYAvhr/bXYAAAAASUVORK5CYII=" alt=""></p>
<h2>Chem2Line</h2>
<p>在你的电脑生成有机物的键线式！</p>
<p><em>Generate key line formulas for organics at your computer!</em></p>
</div>

# Chem2Line

![GitHub stars](https://img.shields.io/github/stars/Ziyang-Bai/Chem2Line)
![GitHub forks](https://img.shields.io/github/forks/Ziyang-Bai/Chem2Line)
![GitHub issues](https://img.shields.io/github/issues/Ziyang-Bai/Chem2Line)
![GitHub license](https://img.shields.io/github/license/Ziyang-Bai/Chem2Line)

**Chem2Line** 是一个用于将化学式或 SMILES 表示转换为键线式图像的工具。用户可以输入化学式或 SMILES，程序将生成相应的化学结构图像。程序支持更换数据库、显示数据库信息，以及保存生成的图像。

**功能**

- **化学式转键线式**：用户可以输入化学式或 SMILES 表示，程序将自动生成对应的键线式图像。
- **数据库管理**：支持加载 XML 格式的 SMILES 数据库，可以更换数据库，查看当前数据库信息。
- **保存图像**：可以将生成的键线式图像保存为 PNG 格式。
- **关于开发者**：提供开发者信息、软件版本及内核版本等详细介绍。
- **进度显示**：在加载数据库时显示进度条。
- **多语言支持**：支持简体中文，美式英语，法语，德语。
- **错误代码**：解决问题从未如此简单！

**安装与依赖**

本工具需要以下 Python 库：

- tkinter：用于创建图形用户界面。
- PIL（或 Pillow）：用于处理和显示图像。
- ctlcore：自定义核心库，包含与化学结构相关的操作。

```bash
pip install pillow
pip install tk
```

ctlcore已在仓库中

**使用方法**

**1. 启动程序**

运行程序后，会显示一个主界面，您可以输入化学式或 SMILES 表示，点击“生成键线式”按钮查看结果。

**2. 更换数据库**

点击菜单栏中的“数据库”>“更换数据库”，选择一个新的 XML 格式数据库。程序会自动加载数据库并显示加载进度。

**3. 保存键线式图像**

点击菜单栏中的“文件”>“保存键线式图像”，选择保存位置并保存生成的键线式图像（PNG 格式）。

**4. 查看数据库信息**

点击菜单栏中的“数据库”>“关于数据库”，程序会显示当前加载的数据库信息。

**5. 关于开发者**

点击菜单栏中的“关于”>“开发者”，查看开发者信息和软件版本等。

**6. 提交自己的语言文件**

如果您希望为 Chem2Line 提交新的语言文件，请按照以下步骤操作：

1. 在 `lang` 目录下创建一个新的 XML 文件，文件名为语言代码（例如 `fr_fr.xml`）。
2. 在 XML 文件中定义界面文本的翻译，例如：
    ```xml
    <language>
        <input_label>Veuillez entrer une formule chimique ou SMILES :</input_label>
        <submit_button>Générer Bondline</submit_button>
        <save_image>Enregistrer l'image Bondline</save_image>
        <exit>Quitter</exit>
        <change_database>Changer de base de données</change_database>
        <database_info>À propos de la base de données</database_info>
        <developer>Développeur</developer>
        <repository>Référentiel</repository>
        <file>Fichier</file>
        <database>Base de données</database>
        <about>À propos</about>
        <language>Langue</language>
        <english>Anglais</english>
        <chinese>Chinois</chinese>
    </language>
    ```
3. 在 `config.xml` 文件中添加新的语言代码，例如：
    ```xml
    <config>
        <language>zh_cn</language>
        <available_languages>
            <language>zh_cn</language>
            <language>en_us</language>
            <language>fr_fr</language>
        </available_languages>
    </config>
    ```
4. 提交您的更改并创建一个 Pull Request。

## 错误代码

在使用过程中，您可能会遇到以下错误代码：

- **1000**：未知错误
- **1001**：未找到结果
- **1002**：生成失败
- **2000**：配置加载错误
- **2001**：配置保存错误
- **3000**：语言加载错误

## 改进

1. __用户体验__
    - 增加对无效化学式或 SMILES 的输入检查，并给出具体的错误提示。
    - 支持最近使用的化学式或 SMILES 历史记录。
2. __代码结构__
    - 提取 GUI 逻辑为独立函数，进一步分离核心逻辑和用户界面逻辑。
    - 使用多线程处理图像生成，避免主界面阻塞。
3. __数据库扩展__
    - 增加对更多数据库格式（如 JSON、CSV）的支持。
    - 提供内置的默认化学式和 SMILES 示例。
4. __功能扩展__
    - 增加 3D 分子可视化功能。
    - 提供键线式的图像旋转和放大缩小功能。
    - 支持导出为矢量图（SVG）。

- __性能瓶颈__：对于较大的 XML 数据库文件，加载和解析可能会有延迟，优化文件读取方式或引入索引。
- __依赖性问题__：需要确保用户安装了 RDKit 和其他依赖库。
- __兼容性问题__：Tkinter 在某些系统上的表现可能受限，提供基于 Web 的交互界面版本。

**许可证**

该程序使用 Apache-2.0 许可证，请参考 LICENSE 文件获取更多信息。

# 构建
## 预构建版本
请在Github Releases 页面下载预构建版本。
## Github Action 快捷构建
当你得到属于你的Github仓库克隆之后，你可以使用Github Action 快捷构建来构建你的程序。
只需点击仓库右上角的 "Actions" 按钮，然后选择 "Build CTLGUI Executable" 工作流。运行工作流程或随意制造一个新的提交，然后等待构建完成。
等待构建完成，然后你可以在 "Actions" 页面找到生成的可执行文件。
## 手动构建
随后，你可以使用以下命令手动构建你的程序：
```bash
git clone https://github.com/Ziyang-Bai/Chem2Line.git
cd Chem2Line
pip install --upgrade pip wheel
pip install -r requirements.txt
pip install rdkit-pypi
pip install pyinstaller
pyinstaller --onefile --windowed --icon=ntcl.ico ctlgui.py
```
这将使用你当前Python环境中的所有依赖项构建Chem2Line。

# Chem2Line

![GitHub stars](https://img.shields.io/github/stars/Ziyang-Bai/Chem2Line)
![GitHub forks](https://img.shields.io/github/forks/Ziyang-Bai/Chem2Line)
![GitHub issues](https://img.shields.io/github/issues/Ziyang-Bai/Chem2Line)
![GitHub license](https://img.shields.io/github/license/Ziyang-Bai/Chem2Line)

**Chem2Line** is a tool for converting chemical formulas or SMILES representations into bondline images. Users can input chemical formulas or SMILES, and the program will generate the corresponding chemical structure images. The program supports changing databases, displaying database information, and saving generated images.

**Features**

- **Chemical Formula to Bondline**: Users can input chemical formulas or SMILES representations, and the program will automatically generate the corresponding bondline images.
- **Database Management**: Supports loading SMILES databases in XML format, changing databases, and viewing current database information.
- **Save Images**: Allows saving generated bondline images in PNG format.
- **About Developer**: Provides detailed information about the developer, software version, and core version.
- **Progress Display**: Displays a progress bar when loading the database.
- **Multilingual Support**: Supports Simplified Chinese, American English, French, and German.
- **Error Codes**: Troubleshooting has never been easier!

**Installation and Dependencies**

This tool requires the following Python libraries:

- tkinter: For creating graphical user interfaces.
- PIL (or Pillow): For processing and displaying images.
- ctlcore: Custom core library containing operations related to chemical structures.

```bash
pip install pillow
pip install tk
```

ctlcore is included in the repository.

**Usage**

**1. Start the Program**

After running the program, a main interface will be displayed where you can input chemical formulas or SMILES representations and click the "Generate Bondline" button to view the results.

**2. Change Database**

Click "Database" > "Change Database" in the menu bar, and select a new XML format database. The program will automatically load the database and display the loading progress.

**3. Save Bondline Image**

Click "File" > "Save Bondline Image" in the menu bar, choose a save location, and save the generated bondline image (PNG format).

**4. View Database Information**

Click "Database" > "About Database" in the menu bar, and the program will display the current database information.

**5. About Developer**

Click "About" > "Developer" in the menu bar to view information about the developer and software version.

**6. Submit Your Own Language File**

If you wish to submit a new language file for Chem2Line, please follow these steps:

1. Create a new XML file in the `lang` directory, named after the language code (e.g., `fr_fr.xml`).
2. Define the translations for the interface text in the XML file, for example:
    ```xml
    <language>
        <input_label>Please enter a chemical formula or SMILES:</input_label>
        <submit_button>Generate Bondline</submit_button>
        <save_image>Save Bondline Image</save_image>
        <exit>Exit</exit>
        <change_database>Change Database</change_database>
        <database_info>About Database</database_info>
        <developer>Developer</developer>
        <repository>Repository</repository>
        <file>File</file>
        <database>Database</database>
        <about>About</about>
        <language>Language</language>
        <english>English</english>
        <chinese>Chinese</chinese>
    </language>
    ```
3. Add the new language code to the `config.xml` file, for example:
    ```xml
    <config>
        <language>en_us</language>
        <available_languages>
            <language>zh_cn</language>
            <language>en_us</language>
            <language>fr_fr</language>
        </available_languages>
    </config>
    ```
4. Submit your changes and create a Pull Request.

## Error Codes

During usage, you may encounter the following error codes:

- **1000**: Unknown error
- **1001**: Result not found
- **1002**: Generation failed
- **2000**: Configuration load error
- **2001**: Configuration save error
- **3000**: Language load error

## Improvements

1. __User Experience__
    - Add input validation for invalid chemical formulas or SMILES and provide specific error messages.
    - Support history of recently used chemical formulas or SMILES.
2. __Code Structure__
    - Extract GUI logic into independent functions to further separate core logic from user interface logic.
    - Use multithreading to handle image generation and avoid blocking the main interface.
3. __Database Expansion__
    - Add support for more database formats (e.g., JSON, CSV).
    - Provide built-in default chemical formulas and SMILES examples.
4. __Feature Expansion__
    - Add 3D molecular visualization.
    - Provide image rotation and zooming for bondline images.
    - Support exporting to vector graphics (SVG).

- __Performance Bottleneck__: Loading and parsing large XML database files may have delays. Optimize file reading methods or introduce indexing.
- __Dependency Issues__: Ensure users have installed RDKit and other dependencies.
- __Compatibility Issues__: Tkinter's performance may be limited on some systems. Provide a web-based interactive interface version.

**License**

This program uses the Apache-2.0 license. Please refer to the LICENSE file for more information.

# Build
## Pre-built Versions
Please download pre-built versions from the GitHub Releases page.
## GitHub Action Quick Build
After cloning your GitHub repository, you can use GitHub Action Quick Build to build your program.
Simply click the "Actions" button at the top right of the repository, then select the "Build CTLGUI Executable" workflow. Run the workflow or make a new commit, then wait for the build to complete.
Once the build is complete, you can find the generated executable file on the "Actions" page.
## Manual Build
Alternatively, you can manually build your program using the following commands:
```bash
git clone https://github.com/Ziyang-Bai/Chem2Line.git
cd Chem2Line
pip install --upgrade pip wheel
pip install -r requirements.txt
pip install rdkit-pypi
pip install pyinstaller
pyinstaller --onefile --windowed --icon=ntcl.ico ctlgui.py
```
This will build Chem2Line using all dependencies in your current Python environment.
